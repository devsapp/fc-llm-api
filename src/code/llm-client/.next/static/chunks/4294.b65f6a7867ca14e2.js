(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4294],{6011:function(e,t,a){"use strict";var n,s,r=a(6006);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}t.Z=function(e){return r.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),n||(n=r.createElement("defs",null,r.createElement("path",{id:"copy_svg__a",d:"M0 0h16v16H0z"}))),r.createElement("g",null,s||(s=r.createElement("mask",{id:"copy_svg__b",fill:"#fff"},r.createElement("use",{xlinkHref:"#copy_svg__a"}))),r.createElement("g",{mask:"url(#copy_svg__b)"},r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M0 2.48V.94C0 .42.42 0 .94 0h8.12c.52 0 .94.42.94.94v8.12c0 .52-.42.94-.94.94H7.51",transform:"translate(4.333 1.667)"}),r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M.94 0C.42 0 0 .42 0 .94v8.12c0 .52.42.94.94.94h8.12c.52 0 .94-.42.94-.94V.94C10 .42 9.58 0 9.06 0H.94Z",transform:"translate(1.667 4.333)"}))))}},9862:function(e,t,a){"use strict";var n,s,r=a(6006);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}t.Z=function(e){return r.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:14.663,height:14.663,fill:"none"},e),r.createElement("g",{style:{mixBlendMode:"passthrough"}},n||(n=r.createElement("path",{fill:"#D8D8D8",fillOpacity:.01,fillRule:"evenodd",d:"M7.337.667c-3.69 0-6.67 2.98-6.67 6.67a6.66 6.66 0 0 0 6.67 6.66c3.68 0 6.66-2.98 6.66-6.66a6.66 6.66 0 0 0-6.66-6.67Z"})),s||(s=r.createElement("path",{fill:"#333",d:"m10.138 5.471-4.667 4.667q-.046.046-.1.083-.055.036-.116.062-.06.025-.125.038-.064.012-.13.012t-.13-.012q-.064-.013-.125-.038-.06-.026-.115-.062-.055-.037-.101-.083-.047-.046-.083-.101-.037-.055-.062-.115-.025-.06-.038-.125-.013-.065-.013-.13 0-.066.013-.13.013-.065.038-.125.025-.061.062-.116.036-.054.083-.1l4.666-4.667q.047-.047.101-.083.055-.037.116-.062.06-.025.125-.038.064-.013.13-.013.065 0 .13.013.064.013.125.038.06.025.115.062.055.036.101.083.046.046.083.1.036.055.062.116.025.06.038.125.012.064.012.13t-.012.13q-.013.064-.038.125-.026.06-.062.115-.037.055-.083.101ZM5.471 4.53l.667.666q.046.047.083.101.036.055.062.116.025.06.038.125.012.064.012.13 0 .065-.012.13-.013.064-.038.125-.026.06-.062.115-.036.055-.083.101-.046.046-.1.083-.056.036-.116.062-.06.025-.125.038-.065.012-.13.012-.066 0-.13-.012-.065-.013-.125-.038-.061-.026-.116-.062-.054-.036-.1-.083l-.667-.667q-.047-.046-.083-.1-.037-.055-.062-.116-.025-.06-.038-.125-.013-.064-.013-.13t.013-.13q.013-.064.038-.125.025-.06.062-.115.036-.055.083-.101.046-.047.1-.083.055-.037.116-.062.06-.025.125-.038.064-.013.13-.013t.13.013q.064.013.125.038.06.025.115.062.055.036.101.083Zm4 4 .667.666q.046.047.083.101.036.055.062.116.025.06.038.125.012.064.012.13 0 .065-.012.13-.013.064-.038.125-.026.06-.062.115-.036.055-.083.101-.046.046-.1.083-.056.036-.116.062-.06.025-.125.038-.065.012-.13.012-.066 0-.13-.012-.065-.013-.125-.038-.061-.026-.116-.062-.054-.036-.1-.083l-.667-.667q-.047-.046-.083-.1-.037-.055-.062-.116-.025-.06-.038-.125-.013-.064-.013-.13t.013-.13q.013-.064.038-.125.025-.06.062-.115.036-.055.083-.101.046-.047.1-.083.055-.037.116-.062.06-.025.125-.038.064-.013.13-.013t.13.013q.064.013.125.038.06.025.115.062.055.036.101.083Zm3.859-1.192q0-2.491-1.755-4.248-1.754-1.756-4.238-1.756-2.492 0-4.248 1.756-1.756 1.756-1.756 4.248 0 2.484 1.756 4.238 1.757 1.755 4.248 1.755 2.484 0 4.238-1.755 1.755-1.754 1.755-4.238Zm1.333 0q0 3.036-2.145 5.181t-5.181 2.145q-3.043 0-5.19-2.145Q0 10.374 0 7.337q0-3.044 2.147-5.19Q4.293 0 7.337 0q3.037 0 5.181 2.147 2.145 2.147 2.145 5.19ZM10.332 5q0 .066-.013.13t-.038.125q-.025.06-.061.114-.037.055-.083.101-.046.047-.1.083-.055.036-.116.061-.06.025-.125.038-.064.013-.13.013-.065 0-.13-.013-.063-.013-.124-.038-.06-.025-.115-.061-.054-.036-.1-.083-.047-.046-.083-.1-.037-.055-.062-.115-.025-.061-.038-.125-.012-.064-.012-.13 0-.065.012-.13.013-.064.038-.124.025-.061.062-.115.036-.055.082-.101.047-.047.101-.083.055-.036.115-.061.06-.025.125-.038.064-.013.13-.013.065 0 .13.013.064.013.124.038t.115.061q.055.036.1.083.047.046.084.1.036.055.061.116.025.06.038.124.013.065.013.13ZM5.665 9.667q0 .065-.013.13-.013.064-.038.124t-.061.115q-.036.055-.083.1-.046.047-.1.084-.055.036-.116.061-.06.025-.124.038-.064.013-.13.013-.065 0-.13-.013-.064-.013-.124-.038-.061-.025-.115-.061-.055-.037-.101-.083-.047-.046-.083-.1-.036-.055-.061-.116-.025-.06-.038-.125-.013-.064-.013-.13 0-.065.013-.13.013-.063.038-.124.025-.06.061-.115.036-.054.083-.1.046-.047.1-.083.055-.037.116-.062.06-.025.124-.038.065-.012.13-.012.066 0 .13.012.064.013.124.038.061.025.115.062.055.036.101.082.047.047.083.101.036.055.061.115.025.06.038.125.013.064.013.13Zm0-4.667q0 .066-.013.13t-.038.125q-.025.06-.061.114-.036.055-.083.101-.046.047-.1.083-.055.036-.116.061-.06.025-.124.038-.064.013-.13.013-.065 0-.13-.013-.064-.013-.124-.038-.061-.025-.115-.061-.055-.036-.101-.083-.047-.046-.083-.1-.036-.055-.061-.115-.025-.061-.038-.125-.013-.064-.013-.13 0-.065.013-.13.013-.064.038-.124.025-.061.061-.115.036-.055.083-.101.046-.047.1-.083.055-.036.116-.061.06-.025.124-.038.065-.013.13-.013.066 0 .13.013t.124.038q.061.025.115.061.055.036.101.083.047.046.083.1.036.055.061.116.025.06.038.124.013.065.013.13Zm.667.667q0 .065-.013.13-.013.064-.038.124t-.061.115q-.037.055-.083.1-.046.047-.1.084-.055.036-.116.061-.06.025-.125.038-.064.013-.13.013-.065 0-.13-.013-.063-.013-.124-.038-.06-.025-.115-.061-.054-.037-.1-.083-.047-.046-.083-.1-.037-.055-.062-.116-.025-.06-.038-.125-.012-.064-.012-.13 0-.065.012-.13.013-.063.038-.124.025-.06.062-.115.036-.054.082-.1.047-.047.101-.083.055-.037.115-.062.06-.025.125-.038.064-.012.13-.012.065 0 .13.012.064.013.124.038t.115.062q.055.036.1.082.047.047.084.101.036.055.061.115.025.06.038.125.013.064.013.13ZM9.665 9q0 .066-.013.13t-.038.125q-.025.06-.061.114-.036.055-.083.101-.046.047-.1.083-.055.036-.116.061-.06.025-.124.038-.064.013-.13.013-.065 0-.13-.013-.064-.013-.124-.038-.061-.025-.115-.061-.055-.036-.101-.083-.047-.046-.083-.1-.036-.055-.061-.115-.025-.061-.038-.125-.013-.064-.013-.13 0-.065.013-.13.013-.064.038-.124.025-.061.061-.115.036-.055.083-.101.046-.047.1-.083.055-.036.116-.061.06-.025.124-.038.065-.013.13-.013.066 0 .13.013t.124.038q.061.025.115.061.055.036.101.083.047.046.083.1.036.055.061.116.025.06.038.124.013.065.013.13Zm.667.667q0 .065-.013.13-.013.064-.038.124t-.061.115q-.037.055-.083.1-.046.047-.1.084-.055.036-.116.061-.06.025-.125.038-.064.013-.13.013-.065 0-.13-.013-.063-.013-.124-.038-.06-.025-.115-.061-.054-.037-.1-.083-.047-.046-.083-.1-.037-.055-.062-.116-.025-.06-.038-.125-.012-.064-.012-.13 0-.065.012-.13.013-.063.038-.124.025-.06.062-.115.036-.054.082-.1.047-.047.101-.083.055-.037.115-.062.06-.025.125-.038.064-.012.13-.012.065 0 .13.012.064.013.124.038t.115.062q.055.036.1.082.047.047.084.101.036.055.061.115.025.06.038.125.013.064.013.13Z"}))))}},3186:function(e,t,a){"use strict";var n,s,r=a(6006);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}t.Z=function(e){return r.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),n||(n=r.createElement("defs",null,r.createElement("path",{id:"download_svg__a",d:"M0 0h16v16H0z"}))),r.createElement("g",null,s||(s=r.createElement("mask",{id:"download_svg__b",fill:"#fff"},r.createElement("use",{xlinkHref:"#download_svg__a"}))),r.createElement("g",{mask:"url(#download_svg__b)"},r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M1 12h10c.55 0 1-.45 1-1V1c0-.55-.45-1-1-1H1C.45 0 0 .45 0 1v10c0 .55.45 1 1 1Z",transform:"translate(2 2)"}),r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M0 0h3.67l.66 1.33H9L9.67 0h3.66",transform:"translate(1.333 10.333)"}),r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M0 3.33V0",transform:"translate(14 8.667)"}),r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"m0 0 2 2 2-2",transform:"translate(6 7.333)"}),r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M0 5.33V0",transform:"translate(8 4)"}),r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M0 3.33V0",transform:"translate(2 8.667)"}))))}},199:function(e,t,a){"use strict";var n,s,r=a(6006);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}t.Z=function(e){return r.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),n||(n=r.createElement("defs",null,r.createElement("path",{id:"edit_svg__a",d:"M0 0h16v16H0z"}))),r.createElement("g",null,s||(s=r.createElement("mask",{id:"edit_svg__b",fill:"#fff"},r.createElement("use",{xlinkHref:"#edit_svg__a"}))),r.createElement("g",{mask:"url(#edit_svg__b)"},r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(10.5 11)",d:"M2.83 0v3c0 .37-.3.67-.66.67H0"}),r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(2.667 1.333)",d:"M10.67 4V.67c0-.37-.3-.67-.67-.67H.67C.3 0 0 .3 0 .67v12c0 .36.3.66.67.66h2"}),r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(5.333 5.333)",d:"M0 0h4.67"}),r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(7.667 7.667)",d:"m0 7 5.67-7"}),r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(5.333 8)",d:"M0 0h2.67"}))))}},6778:function(e,t,a){"use strict";a.d(t,{qE:function(){return _},aR:function(){return p},eL:function(){return g}});var n,s,r,i,l=a(9268),o=a(3031),c=a(8584),m=a(6006);function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var h=function(e){return m.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:30,height:30,fill:"none"},e),n||(n=m.createElement("defs",null,m.createElement("path",{id:"black-bot_svg__a",d:"M0 0h30v30H0z"}),m.createElement("path",{id:"black-bot_svg__c",d:"M0 0h20.455v20.455H0z"}))),m.createElement("g",null,s||(s=m.createElement("rect",{width:30,height:30,fill:"#E7F8FF",rx:10})),r||(r=m.createElement("mask",{id:"black-bot_svg__b",fill:"#fff"},m.createElement("use",{xlinkHref:"#black-bot_svg__a"}))),m.createElement("g",{mask:"url(#black-bot_svg__b)"},m.createElement("g",{transform:"translate(4.773 4.773)"},i||(i=m.createElement("mask",{id:"black-bot_svg__d",fill:"#fff"},m.createElement("use",{xlinkHref:"#black-bot_svg__c"}))),m.createElement("g",{mask:"url(#black-bot_svg__d)"},m.createElement("path",{fillRule:"evenodd",style:{fill:"#333"},d:"M19.11 8.37c.17-.52.26-1.06.26-1.61 0-.9-.24-1.79-.71-2.57a5.24 5.24 0 0 0-4.53-2.59c-.37 0-.73.04-1.09.11A5.201 5.201 0 0 0 9.17 0h-.04C6.86 0 4.86 1.44 4.16 3.57A5.11 5.11 0 0 0 .71 6.04C.24 6.83 0 7.72 0 8.63c0 1.27.48 2.51 1.35 3.45-.18.52-.27 1.07-.27 1.61 0 .91.25 1.8.71 2.58 1.13 1.94 3.41 2.94 5.63 2.47a5.18 5.18 0 0 0 3.86 1.71h.05c2.26 0 4.27-1.44 4.97-3.57a5.132 5.132 0 0 0 3.45-2.47c.46-.78.7-1.67.7-2.58 0-1.28-.48-2.51-1.34-3.46ZM8.947 18.158c-.04.03-.08.05-.12.07.7.58 1.57.89 2.48.89h.01c2.14 0 3.88-1.72 3.88-3.83v-4.76c0-.02-.02-.04-.04-.05l-1.74-.99v5.75c0 .23-.13.45-.34.57l-4.13 2.35Zm-.67-1.153 4.17-2.38c.02-.01.03-.03.03-.05v-1.99l-5.04 2.87c-.21.12-.47.12-.68 0l-4.13-2.35c-.04-.02-.09-.06-.12-.07-.04.21-.06.43-.06.65 0 .67.18 1.33.52 1.92v-.01c.7 1.19 1.98 1.92 3.37 1.92.68 0 1.35-.18 1.94-.51ZM3.903 5.168v-.14c-.85.31-1.57.9-2.02 1.68a3.78 3.78 0 0 0-.52 1.91c0 1.37.74 2.64 1.94 3.33l4.17 2.37c.02.01.04.01.06 0l1.75-1-5.04-2.87a.64.64 0 0 1-.34-.57v-4.71Zm13.253 3.337-4.18-2.38c-.02 0-.04 0-.06.01l-1.74.99 5.04 2.87c.21.12.34.34.34.58v4.85c1.52-.56 2.54-1.99 2.54-3.6 0-1.37-.74-2.63-1.94-3.32ZM8.014 5.83c-.02.01-.03.03-.03.05v1.99L13.024 5a.692.692 0 0 1 .68 0l4.13 2.35c.04.02.08.05.12.07.03-.21.05-.43.05-.65 0-2.11-1.74-3.83-3.88-3.83-.68 0-1.35.18-1.94.51l-4.17 2.38Zm1.133-4.492c-2.15 0-3.89 1.72-3.89 3.83v4.76c0 .02.02.03.03.04l1.75 1v-5.75c0-.23.13-.45.34-.57l4.13-2.35c.04-.03.09-.06.12-.07-.7-.58-1.58-.89-2.48-.89ZM7.983 11.51l2.24 1.27 2.25-1.27V8.95l-2.25-1.28-2.24 1.28v2.56Z"}))))))};function u(e,t){return"https://cdn.staticfile.org/emoji-datasource-apple/14.0.0/img/".concat(t,"/64/").concat(e,".png")}function p(e){return(0,l.jsx)(o.ZP,{lazyLoadEmojis:!0,theme:o.Q2.AUTO,getEmojiUrl:u,onEmojiClick:t=>{e.onEmojiClick(t.unified)}})}function _(e){if(e.model){var t;return(0,l.jsx)("div",{className:"no-dark",children:(null===(t=e.model)||void 0===t?void 0:t.startsWith("gpt-4"))?(0,l.jsx)(h,{className:"user-avatar"}):(0,l.jsx)(c.Z,{className:"user-avatar"})})}return(0,l.jsx)("div",{className:"user-avatar",children:e.avatar&&(0,l.jsx)(g,{avatar:e.avatar})})}function g(e){var t;return(0,l.jsx)(o.dy,{unified:e.avatar,size:null!==(t=e.size)&&void 0!==t?t:18,getEmojiUrl:u})}},4663:function(e,t,a){"use strict";a.d(t,{O:function(){return i}});var n=a(9268);a(6006);var s=a(3287),r=a.n(s);function i(e){let{onChange:t,title:a,value:s,className:i,min:l,max:o,step:c}=e;return(0,n.jsxs)("div",{className:r()["input-range"]+" ".concat(null!=i?i:""),children:[a||s,(0,n.jsx)("input",{type:"range",title:a,value:s,min:l,max:o,step:c,onChange:t})]})}},4294:function(e,t,a){"use strict";a.r(t),a.d(t,{ContextPrompts:function(){return D},MaskAvatar:function(){return q},MaskConfig:function(){return A},MaskPage:function(){return V}});var n,s,r=a(9268),i=a(48),l=a(3686),o=a(6784),c=a.n(o),m=a(3186),d=a(6006);function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var u=function(e){return d.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),d.createElement("g",null,n||(n=d.createElement("mask",{id:"upload_svg__b",fill:"#fff"},d.createElement("use",{xlinkHref:"#upload_svg__a"}))),d.createElement("g",{mask:"url(#upload_svg__b)"},d.createElement("path",{style:{fill:"#333",opacity:1},d:"M1.822 14.178A1.659 1.659 0 0 1 1.333 13V3a1.658 1.658 0 0 1 .489-1.178A1.658 1.658 0 0 1 3 1.333h10a1.659 1.659 0 0 1 1.178.489A1.658 1.658 0 0 1 14.667 3v10a1.659 1.659 0 0 1-1.018 1.535 1.643 1.643 0 0 1-.649.132H3a1.658 1.658 0 0 1-1.178-.489zm11.413-.943a.32.32 0 0 0 .098-.235V3a.32.32 0 0 0-.098-.235.32.32 0 0 0-.235-.098H3a.32.32 0 0 0-.235.098.32.32 0 0 0-.098.235v10c0 .09.033.17.098.235a.32.32 0 0 0 .235.098h10a.32.32 0 0 0 .235-.098z"}),d.createElement("path",{style:{fill:"#333",opacity:1},d:"M5.186 9.692a.664.664 0 0 1 .415.345l.476.96h3.846l.485-.964a.66.66 0 0 1 .414-.341.664.664 0 0 1 .181-.025h3.66a.665.665 0 0 1 .654.796.667.667 0 0 1-.654.537h-3.249l-.485.963a.665.665 0 0 1-.596.367h-4.67a.664.664 0 0 1-.597-.37L4.59 11H1.333a.666.666 0 1 1 0-1.333h3.67c.062 0 .123.008.183.025z"}),d.createElement("path",{style:{fill:"#333",opacity:1},d:"M13.333 12V8.667a.666.666 0 1 1 1.334 0V12a.666.666 0 1 1-1.334 0zM7.63 3.446a.664.664 0 0 1 .841.083l2 2a.667.667 0 0 1-.942.942L8 4.943 6.471 6.47A.66.66 0 0 1 6 6.667a.66.66 0 0 1-.554-.297.665.665 0 0 1 .083-.841l2-2a.665.665 0 0 1 .1-.083z"}),d.createElement("path",{style:{fill:"#333",opacity:1},d:"M8.667 4v5.333a.665.665 0 0 1-1.037.554.665.665 0 0 1-.297-.554V4a.665.665 0 0 1 1.037-.554.665.665 0 0 1 .297.554zM1.333 12V8.667a.665.665 0 0 1 1.037-.555.665.665 0 0 1 .297.555V12a.665.665 0 0 1-1.138.471.664.664 0 0 1-.196-.471z"}))),s||(s=d.createElement("defs",null,d.createElement("path",{id:"upload_svg__a",d:"M0 0h16v16H0z"}))))},p=a(199),_=a(6816),g=a(5520),x=a(9862),k=a(3573),f=a(6011),v=a(5202),j=a(2852),y=a(9724),b=a(3004),C=a(9319),w=a(6778),Z=a(8767),M=a(7005),E=a(4461),P=a.n(E),T=a(9881),S=a(990),O=a(2908),N=a(1396),H=a(2223);function q(e){return e.mask.avatar!==j._G?(0,r.jsx)(w.qE,{avatar:e.mask.avatar}):(0,r.jsx)(w.qE,{model:e.mask.modelConfig.model})}function A(e){let[t,a]=(0,d.useState)(!1),n=(0,y.MG)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(D,{context:e.mask.context,updateContext:t=>{let a=e.mask.context.slice();t(a),e.updateMask(e=>e.context=a)}}),(0,r.jsxs)(C.aV,{children:[(0,r.jsx)(C.HC,{title:Z.ZP.Mask.Config.Avatar,children:(0,r.jsx)(C.J2,{content:(0,r.jsx)(w.aR,{onEmojiClick:t=>{e.updateMask(e=>e.avatar=t),a(!1)}}),open:t,onClose:()=>a(!1),children:(0,r.jsx)("div",{onClick:()=>a(!0),style:{cursor:"pointer"},children:(0,r.jsx)(q,{mask:e.mask})})})}),(0,r.jsx)(C.HC,{title:Z.ZP.Mask.Config.Name,children:(0,r.jsx)("input",{type:"text",value:e.mask.name,onInput:t=>e.updateMask(e=>{e.name=t.currentTarget.value})})}),(0,r.jsx)(C.HC,{title:Z.ZP.Mask.Config.HideContext.Title,subTitle:Z.ZP.Mask.Config.HideContext.SubTitle,children:(0,r.jsx)("input",{type:"checkbox",checked:e.mask.hideContext,onChange:t=>{e.updateMask(e=>{e.hideContext=t.currentTarget.checked})}})}),e.shouldSyncFromGlobal?null:(0,r.jsx)(C.HC,{title:Z.ZP.Mask.Config.Share.Title,subTitle:Z.ZP.Mask.Config.Share.SubTitle,children:(0,r.jsx)(i.h,{icon:(0,r.jsx)(f.Z,{}),text:Z.ZP.Mask.Config.Share.Action,onClick:()=>{let t="".concat(location.protocol,"//").concat(location.host,"/#").concat(O.y$.NewChat,"?mask=").concat(e.mask.id);(0,T.vQ)(t)}})}),e.shouldSyncFromGlobal?(0,r.jsx)(C.HC,{title:Z.ZP.Mask.Config.Sync.Title,subTitle:Z.ZP.Mask.Config.Sync.SubTitle,children:(0,r.jsx)("input",{type:"checkbox",checked:e.mask.syncGlobalConfig,onChange:async t=>{let a=t.currentTarget.checked;a&&await (0,C.i0)(Z.ZP.Mask.Config.Sync.Confirm)?e.updateMask(e=>{e.syncGlobalConfig=a,e.modelConfig={...n.modelConfig}}):a||e.updateMask(e=>{e.syncGlobalConfig=a})}})}):null]}),(0,r.jsxs)(C.aV,{children:[(0,r.jsx)(S.j,{modelConfig:{...e.mask.modelConfig},updateConfig:t=>{if(e.readonly)return;let a={...e.mask.modelConfig};t(a),e.updateMask(e=>{e.modelConfig=a,e.syncGlobalConfig=!1})}}),e.extraListItems]})]})}function I(e){let[t,a]=(0,d.useState)(!1);return(0,r.jsxs)("div",{className:P()["context-prompt-row"],children:[!t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:P()["context-drag"],children:(0,r.jsx)(v.Z,{})}),(0,r.jsx)(C.Ph,{value:e.prompt.role,className:P()["context-role"],onChange:t=>e.update({...e.prompt,role:t.target.value}),children:b.K$.map(e=>(0,r.jsx)("option",{value:e,children:e},e))})]}),(0,r.jsx)(C.II,{value:e.prompt.content,type:"text",className:P()["context-content"],rows:t?5:1,onFocus:()=>a(!0),onBlur:()=>{var e,t;a(!1),null===(t=window)||void 0===t||null===(e=t.getSelection())||void 0===e||e.removeAllRanges()},onInput:t=>e.update({...e.prompt,content:t.currentTarget.value})}),!t&&(0,r.jsx)(i.h,{icon:(0,r.jsx)(x.Z,{}),className:P()["context-delete-button"],onClick:()=>e.remove(),bordered:!0})]})}function D(e){let t=e.context,a=(t,a)=>{e.updateContext(e=>e.splice(a,0,t))},n=t=>{e.updateContext(e=>e.splice(t,1))},s=(t,a)=>{e.updateContext(e=>e[t]=a)};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:P()["context-prompt"],style:{marginBottom:20},children:[(0,r.jsx)(H.Z5,{onDragEnd:a=>{if(!a.destination)return;let n=function(e,t,a){let n=[...e],[s]=n.splice(t,1);return n.splice(a,0,s),n}(t,a.source.index,a.destination.index);e.updateContext(e=>{e.splice(0,e.length,...n)})},children:(0,r.jsx)(H.bK,{droppableId:"context-prompt-list",children:e=>(0,r.jsxs)("div",{ref:e.innerRef,...e.droppableProps,children:[t.map((e,t)=>(0,r.jsx)(H._l,{draggableId:e.id||t.toString(),index:t,children:i=>(0,r.jsxs)("div",{ref:i.innerRef,...i.draggableProps,...i.dragHandleProps,children:[(0,r.jsx)(I,{index:t,prompt:e,update:e=>s(t,e),remove:()=>n(t)}),(0,r.jsx)("div",{className:P()["context-prompt-insert"],onClick:()=>{a((0,y.tn)({role:"user",content:"",date:new Date().toLocaleString()}),t+1)},children:(0,r.jsx)(_.Z,{})})]})},e.id)),e.placeholder]})})}),0===e.context.length&&(0,r.jsx)("div",{className:P()["context-prompt-row"],children:(0,r.jsx)(i.h,{icon:(0,r.jsx)(_.Z,{}),text:Z.ZP.Context.Add,bordered:!0,className:P()["context-prompt-button"],onClick:()=>a((0,y.tn)({role:"user",content:"",date:""}),e.context.length)})})]})})}function V(){var e;let t=(0,M.s0)(),a=(0,j.Zy)(),n=(0,y.aK)(),[s,o]=(0,d.useState)(),h=a.getAll().filter(e=>!s||e.lang===s),[v,b]=(0,d.useState)([]),[w,E]=(0,d.useState)(""),P=w.length>0?v:h,S=e=>{if(E(e),e.length>0){let t=h.filter(t=>t.name.includes(e));b(t)}else b(h)},[H,I]=(0,d.useState)(),D=null!==(e=a.get(H))&&void 0!==e?e:N.$n.get(H),V=()=>{(0,T.j2)().then(e=>{try{let t=JSON.parse(e);if(Array.isArray(t)){for(let e of t)e.name&&a.create(e);return}t.name&&a.create(t)}catch(e){}})};return(0,r.jsxs)(l.S,{children:[(0,r.jsxs)("div",{className:c()["mask-page"],children:[(0,r.jsxs)("div",{className:"window-header",children:[(0,r.jsxs)("div",{className:"window-header-title",children:[(0,r.jsx)("div",{className:"window-header-main-title",children:Z.ZP.Mask.Page.Title}),(0,r.jsx)("div",{className:"window-header-submai-title",children:Z.ZP.Mask.Page.SubTitle(h.length)})]}),(0,r.jsxs)("div",{className:"window-actions",children:[(0,r.jsx)("div",{className:"window-action-button",children:(0,r.jsx)(i.h,{icon:(0,r.jsx)(m.Z,{}),bordered:!0,onClick:()=>{(0,T.CP)(JSON.stringify(P),O.dJ.Masks)}})}),(0,r.jsx)("div",{className:"window-action-button",children:(0,r.jsx)(i.h,{icon:(0,r.jsx)(u,{}),bordered:!0,onClick:()=>V()})}),(0,r.jsx)("div",{className:"window-action-button",children:(0,r.jsx)(i.h,{icon:(0,r.jsx)(g.Z,{}),bordered:!0,onClick:()=>t(-1)})})]})]}),(0,r.jsxs)("div",{className:c()["mask-page-body"],children:[(0,r.jsxs)("div",{className:c()["mask-filter"],children:[(0,r.jsx)("input",{type:"text",className:c()["search-bar"],placeholder:Z.ZP.Mask.Page.Search,autoFocus:!0,onInput:e=>S(e.currentTarget.value)}),(0,r.jsxs)(C.Ph,{className:c()["mask-filter-lang"],value:null!=s?s:Z.ZP.Settings.Lang.All,onChange:e=>{let t=e.currentTarget.value;t===Z.ZP.Settings.Lang.All?o(void 0):o(t)},children:[(0,r.jsx)("option",{value:Z.ZP.Settings.Lang.All,children:Z.ZP.Settings.Lang.All},"all"),Z.DC.map(e=>(0,r.jsx)("option",{value:e,children:Z.nW[e]},e))]}),(0,r.jsx)(i.h,{className:c()["mask-create"],icon:(0,r.jsx)(_.Z,{}),text:Z.ZP.Mask.Page.Create,bordered:!0,onClick:()=>{let e=a.create();I(e.id)}})]}),(0,r.jsx)("div",{children:P.map(e=>(0,r.jsxs)("div",{className:c()["mask-item"],children:[(0,r.jsxs)("div",{className:c()["mask-header"],children:[(0,r.jsx)("div",{className:c()["mask-icon"],children:(0,r.jsx)(q,{mask:e})}),(0,r.jsxs)("div",{className:c()["mask-title"],children:[(0,r.jsx)("div",{className:c()["mask-name"],children:e.name}),(0,r.jsx)("div",{className:c()["mask-info"]+" one-line",children:"".concat(Z.ZP.Mask.Item.Info(e.context.length)," / ").concat(Z.nW[e.lang]," / ").concat(e.modelConfig.model)})]})]}),(0,r.jsxs)("div",{className:c()["mask-actions"],children:[(0,r.jsx)(i.h,{icon:(0,r.jsx)(_.Z,{}),text:Z.ZP.Mask.Item.Chat,onClick:()=>{n.newSession(e),t(O.y$.Chat)}}),e.builtin?(0,r.jsx)(i.h,{icon:(0,r.jsx)(k.Z,{}),text:Z.ZP.Mask.Item.View,onClick:()=>I(e.id)}):(0,r.jsx)(i.h,{icon:(0,r.jsx)(p.Z,{}),text:Z.ZP.Mask.Item.Edit,onClick:()=>I(e.id)}),!e.builtin&&(0,r.jsx)(i.h,{icon:(0,r.jsx)(x.Z,{}),text:Z.ZP.Mask.Item.Delete,onClick:async()=>{await (0,C.i0)(Z.ZP.Mask.Item.DeleteConfirm)&&a.delete(e.id)}})]})]},e.id))})]})]}),D&&(0,r.jsx)("div",{className:"modal-mask",children:(0,r.jsx)(C.u_,{title:Z.ZP.Mask.EditModal.Title(null==D?void 0:D.builtin),onClose:()=>I(void 0),actions:[(0,r.jsx)(i.h,{icon:(0,r.jsx)(m.Z,{}),text:Z.ZP.Mask.EditModal.Download,bordered:!0,onClick:()=>(0,T.CP)(JSON.stringify(D),"".concat(D.name,".json"))},"export"),(0,r.jsx)(i.h,{icon:(0,r.jsx)(f.Z,{}),bordered:!0,text:Z.ZP.Mask.EditModal.Clone,onClick:()=>{t(O.y$.Masks),a.create(D),I(void 0)}},"copy")],children:(0,r.jsx)(A,{mask:D,updateMask:e=>a.update(H,e),readonly:D.builtin})})})]})}},990:function(e,t,a){"use strict";a.d(t,{j:function(){return o}});var n=a(9268),s=a(9724),r=a(8767),i=a(4663),l=a(9319);function o(e){var t,a,o,c;let m=(0,s.MG)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.HC,{title:r.ZP.Settings.Model,children:(0,n.jsx)(l.Ph,{value:e.modelConfig.model,onChange:t=>{e.updateConfig(e=>e.model=s.Xm.model(t.currentTarget.value))},children:m.allModels().map((e,t)=>(0,n.jsx)("option",{value:e.name,disabled:!e.available,children:e.name},t))})}),(0,n.jsx)(l.HC,{title:r.ZP.Settings.Temperature.Title,subTitle:r.ZP.Settings.Temperature.SubTitle,children:(0,n.jsx)(i.O,{value:null===(t=e.modelConfig.temperature)||void 0===t?void 0:t.toFixed(1),min:"0",max:"1",step:"0.1",onChange:t=>{e.updateConfig(e=>e.temperature=s.Xm.temperature(t.currentTarget.valueAsNumber))}})}),(0,n.jsx)(l.HC,{title:r.ZP.Settings.TopP.Title,subTitle:r.ZP.Settings.TopP.SubTitle,children:(0,n.jsx)(i.O,{value:(null!==(c=e.modelConfig.top_p)&&void 0!==c?c:1).toFixed(1),min:"0",max:"1",step:"0.1",onChange:t=>{e.updateConfig(e=>e.top_p=s.Xm.top_p(t.currentTarget.valueAsNumber))}})}),(0,n.jsx)(l.HC,{title:r.ZP.Settings.MaxTokens.Title,subTitle:r.ZP.Settings.MaxTokens.SubTitle,children:(0,n.jsx)("input",{type:"number",min:100,max:1e5,value:e.modelConfig.max_tokens,onChange:t=>e.updateConfig(e=>e.max_tokens=s.Xm.max_tokens(t.currentTarget.valueAsNumber))})}),(0,n.jsx)(l.HC,{title:r.ZP.Settings.PresencePenalty.Title,subTitle:r.ZP.Settings.PresencePenalty.SubTitle,children:(0,n.jsx)(i.O,{value:null===(a=e.modelConfig.presence_penalty)||void 0===a?void 0:a.toFixed(1),min:"-2",max:"2",step:"0.1",onChange:t=>{e.updateConfig(e=>e.presence_penalty=s.Xm.presence_penalty(t.currentTarget.valueAsNumber))}})}),(0,n.jsx)(l.HC,{title:r.ZP.Settings.FrequencyPenalty.Title,subTitle:r.ZP.Settings.FrequencyPenalty.SubTitle,children:(0,n.jsx)(i.O,{value:null===(o=e.modelConfig.frequency_penalty)||void 0===o?void 0:o.toFixed(1),min:"-2",max:"2",step:"0.1",onChange:t=>{e.updateConfig(e=>e.frequency_penalty=s.Xm.frequency_penalty(t.currentTarget.valueAsNumber))}})}),(0,n.jsx)(l.HC,{title:r.ZP.Settings.InjectSystemPrompts.Title,subTitle:r.ZP.Settings.InjectSystemPrompts.SubTitle,children:(0,n.jsx)("input",{type:"checkbox",checked:e.modelConfig.enableInjectSystemPrompts,onChange:t=>e.updateConfig(e=>e.enableInjectSystemPrompts=t.currentTarget.checked)})}),(0,n.jsx)(l.HC,{title:r.ZP.Settings.InputTemplate.Title,subTitle:r.ZP.Settings.InputTemplate.SubTitle,children:(0,n.jsx)("input",{type:"text",value:e.modelConfig.template,onChange:t=>e.updateConfig(e=>e.template=t.currentTarget.value)})}),(0,n.jsx)(l.HC,{title:r.ZP.Settings.HistoryCount.Title,subTitle:r.ZP.Settings.HistoryCount.SubTitle,children:(0,n.jsx)(i.O,{title:e.modelConfig.historyMessageCount.toString(),value:e.modelConfig.historyMessageCount,min:"0",max:"64",step:"1",onChange:t=>e.updateConfig(e=>e.historyMessageCount=t.target.valueAsNumber)})}),(0,n.jsx)(l.HC,{title:r.ZP.Settings.CompressThreshold.Title,subTitle:r.ZP.Settings.CompressThreshold.SubTitle,children:(0,n.jsx)("input",{type:"number",min:500,max:4e3,value:e.modelConfig.compressMessageLengthThreshold,onChange:t=>e.updateConfig(e=>e.compressMessageLengthThreshold=t.currentTarget.valueAsNumber)})}),(0,n.jsx)(l.HC,{title:r.ZP.Memory.Title,subTitle:r.ZP.Memory.Send,children:(0,n.jsx)("input",{type:"checkbox",checked:e.modelConfig.sendMemory,onChange:t=>e.updateConfig(e=>e.sendMemory=t.currentTarget.checked)})})]})}},4461:function(e){e.exports={"chat-input-actions":"chat_chat-input-actions__mwYC_","chat-input-action":"chat_chat-input-action__DMW7Y","slide-in":"chat_slide-in__nvZgA",text:"chat_text__TkPfN",icon:"chat_icon__Ly3TN","prompt-toast":"chat_prompt-toast___VCUf","prompt-toast-inner":"chat_prompt-toast-inner__f17E6","slide-in-from-top":"chat_slide-in-from-top__Q0KCt","prompt-toast-content":"chat_prompt-toast-content__9sp_w","section-title":"chat_section-title__BiPko","section-title-action":"chat_section-title-action__bmruw","context-prompt":"chat_context-prompt__cbach","context-prompt-insert":"chat_context-prompt-insert__UmNJi","context-prompt-row":"chat_context-prompt-row__3Kbix","context-drag":"chat_context-drag__BX7lh","context-role":"chat_context-role__7_IR9","context-content":"chat_context-content__sNXUy","context-delete-button":"chat_context-delete-button__C_BmS","context-prompt-button":"chat_context-prompt-button__AoPsw","memory-prompt":"chat_memory-prompt__vOzcn","memory-prompt-content":"chat_memory-prompt-content__kUVKj","clear-context":"chat_clear-context__ke8Iw","clear-context-tips":"chat_clear-context-tips__L1A_i","clear-context-revert-btn":"chat_clear-context-revert-btn___Wna1",chat:"chat_chat__ZebHg","chat-body":"chat_chat-body__QFv5x","chat-body-main-title":"chat_chat-body-main-title__jUL6h","chat-body-title":"chat_chat-body-title__d2ItC","chat-message":"chat_chat-message__dg8rL","chat-message-user":"chat_chat-message-user__ZtTEj","chat-message-header":"chat_chat-message-header__Dny_K","chat-message-actions":"chat_chat-message-actions__H90hg","chat-message-container":"chat_chat-message-container__O_X8_","chat-message-edit":"chat_chat-message-edit__h58of","chat-message-avatar":"chat_chat-message-avatar__3QeMq","chat-message-status":"chat_chat-message-status__zc9Ad","chat-message-item":"chat_chat-message-item__dKqMl","chat-message-action-date":"chat_chat-message-action-date__RsXTn","chat-input-panel":"chat_chat-input-panel__rO72m","prompt-hints":"chat_prompt-hints__VT_Oi","prompt-hint":"chat_prompt-hint__2616t","hint-title":"chat_hint-title__E53ZK","hint-content":"chat_hint-content__y2yj4","prompt-hint-selected":"chat_prompt-hint-selected__o3vYi","chat-input-panel-inner":"chat_chat-input-panel-inner___IQHi","chat-input":"chat_chat-input__PQ_oF","chat-input-send":"chat_chat-input-send__GFQZo"}},3287:function(e){e.exports={"input-range":"input-range_input-range__SuxRd"}},6784:function(e){e.exports={"mask-page":"mask_mask-page__ou14k","mask-page-body":"mask_mask-page-body__kBXsJ","mask-filter":"mask_mask-filter__OdpU3","slide-in":"mask_slide-in__unpXH","search-bar":"mask_search-bar__7_Msn","mask-filter-lang":"mask_mask-filter-lang__mRxyv","mask-create":"mask_mask-create__BjAzk","mask-item":"mask_mask-item__dinia","mask-header":"mask_mask-header__RXJXI","mask-icon":"mask_mask-icon__wO1ER","mask-title":"mask_mask-title__IDEbR","mask-name":"mask_mask-name__77Rjh","mask-info":"mask_mask-info__2gtiu","mask-actions":"mask_mask-actions__rsWn_","slide-in-from-top":"mask_slide-in-from-top__DOEYB"}}}]);